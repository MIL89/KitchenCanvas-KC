<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Cards</title>
    <!---Bootstrap----> 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">  
    <!---Fonts---->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />



    <link rel="stylesheet" href="css/header_all.css">
    <style>
        .pack{
            max-width: 1240px;
             align-items: center;
              margin-left: 10%;
        }

        .card-head{
                font-size: 40px; 
                padding-bottom: 20px;
                
            }
            
.round-button {
  position: absolute;
  bottom: 20px;
  right: 20px;
  display: inline-block;
  padding: 10px 20px;
  border-radius: 50%;
  background: linear-gradient(to right, #ff9966, #ff5e62);
  color: #fff;
  border: none;
  font-size: 16px;
  cursor: pointer;
  transition: background-position 0.5s ease;
}



        @media (max-width:590px) {
            .text{
                font-size: 15px;
                text-align: justify;
                padding-top: 20px; 
            }

        }
        @media (max-width:767px) {
            .text{
                font-size: 15px;
                text-align: justify;
                padding-top: 20px; 
            }
            .card-head{
                font-size: 15px;  
            }
        }
        @media (max-width:991px) {
            .text{
                font-size: 15px;
                text-align: justify;
                padding-top: 20px; 
            }
            .card-head{
                font-size: 15px;  
                padding-top: 20px; 
            }
        }
        @media (max-width:1170px) 
           {
            .text{
                font-size: 15px;
                text-align: justify;
                padding-top: 20px; 
            }
            .card-head{
                font-size: 30px; 
                
            }
           }
       </style>
    
    
    
    
    <style>
        /* CSS for card layout */
        .card-container {
            display: flex; /* Set display to flex to arrange cards horizontally */
            flex-wrap: wrap; /* Enable wrapping to fit cards in multiple rows */
        }
        .card {
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
            transition: 0.3s;
            width: 1290px;
            margin: 10px;
            padding: 10px;
            display: flex; /* Set display to flex to arrange image and text horizontally */
        }
        .card img {
            width: 25%; /* Adjust the width of the image as needed */
            height: 70%; /* Adjust the height of the image as needed */
            margin-top: -140px;
           
        }
        .card-content {
            flex: 1; /* Allow text to take remaining space */
            margin-left: 30% ;/* Add padding to separate text from image */
            flex-wrap: wrap;
            word-wrap: break-word; /* Wrap long words onto the next line */
        }
        .card-style {
            flex: 1; /* Allow text to take remaining space */
            margin-left: 30%; /* Add padding to separate text from image */
            text-align: left; 
            text-align: justify;/* Align text to the left */
            flex-wrap: wrap;
            word-wrap: break-word; /* Wrap long words onto the next line */
            font-size: 15px;
        }
        .card:hover {
            box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
        }
        .container {
            padding: 20px;
            margin-top: 20px;
        }
    </style>

</head>
<body>
    <header id="nav_bar">
        <div class="main">
            <div class="container">
                <nav class="navbar navbar-expand-lg">
                    
                      <a class="navbar-brand" href="#">
                            <img src="images/logo.png" alt="LOGO">

                      </a>
                      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                       
                        <i class="fas fa-stream navbar-toggler-icon"></i>
                      </button>
                      <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav mx-auto">
                            <li class="nav-item">
                              <a class="nav-link" aria-current="page" href="index.html">Home</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link" href="about.html">About</a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link active" href="content.html">Meals</a>
                            </li>
                            
                            <li class="nav-item">
                              <a class="nav-link"  href="#">Quick</a>
                            </li>
                          </ul>

                        <div class="header_right">
                            
                                <span > <a class="far fa-user" href="login.html"></a> </span>
                                
                            
                        </div>
                      </div>
                    
                  </nav>

            </div>
            
        </div>
        
    </header>

    
    <section class="banner_section">
        <div class="container">
            <div class="banner-content">
                <h1>Taste Tunes</h2>
            </div>
        </div>
    </section>


    <div class="container">
        <div class="card-container" id="card-container">
           
        </div>
        
    </div>
 <!-- Footer section Start-->
 <section class="footer_wrapper mt-3 mt-md-0">
    <div class="container px-5 px-lg-0">
        <div class="row">
            <div class="col-lg-3 col-sm-6 mb-5 mb-lg-0">
                <h5>Kitchen Canvas</h5>
                <p class="mb-4 ps-0 company_details">"Eating healthy is not just a habit, it's an investment in your future well-being."</p>
                <div class="contact-info">
                    <ul class="list-unstyled">
                        <li><a href="#"><i class="fa fa-home me-3"></i> 8 Forest Grove, Treforest, Pontypridd, CF37 1DL</a></li>
                        <li><a href="#"><i class="fa fa-phone me-3"></i>+ 034 55 76 01 01</a></li>
                        <li><a href="#"><i class="fa fa-envelope me-3"></i>info@example.com</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-3 col-sm-6 mb-5 mb-lg-0">
                <h5></h5>
                
            </div>
            <div class="col-lg-3 col-sm-6 mb-5 mb-lg-0">
                <h5>Quick Links</h5>
                <ul class="link-widget p-0">
                    <li><a href="content.html">Meals</a></li>
                    <li><a href="#">Quick</a></li>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="#">Terms & Conditions</a></li>
                    
                </ul>
            </div>
            <div class="col-lg-3 col-sm-6 mb-5 mb-lg-0">
                <h5>Newsletter</h5>
                <div class="form-group mb-4">
                    <input type="email" class="form-control bg-transparent" placeholder="Enter Your Email Here">
                    <button type="submit" class="btn main-btn">Subscribe</button>
                </div>
                <h5>Stay Connected</h5>
                <ul class="social-network d-flex align-items-center p-0">
                    <li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
                    <li><a href="#"><i class="fab fa-twitter"></i></a></li>
                    <li><a href="#"><i class="fab fa-linkedin-in"></i></a></li>
                    <li><a href="#"><i class="fab fa-youtube"></i></a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="container-fluid copyright-section">
        <p><a href="#"></a> All Rights Reserved</p>
    </div>
</section>
<!-- Footer Section Exit  -->

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
        import { getStorage, ref , getDownloadURL } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-storage.js";

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyC5Ju9f-O9_aq6DdqAmqDJA7i9XqLtRrVA",
            authDomain: "kitchen-canvas-66c46.firebaseapp.com",
            databaseURL: "https://kitchen-canvas-66c46-default-rtdb.firebaseio.com",
            projectId: "kitchen-canvas-66c46",
            storageBucket: "kitchen-canvas-66c46.appspot.com",
            messagingSenderId: "728341079449",
            appId: "1:728341079449:web:c2ef84e752c4e65eb45f08",
            measurementId: "G-CLKQPW6PTH"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);

        // Reference to Firebase Storage
        const storage = getStorage();

        // Function to fetch data from Firebase and display in cards
        function fetchAndDisplayData() {
            var cardContainer = document.getElementById('card-container');
            cardContainer.innerHTML = ''; // Clear previous content

            // Make a GET request to fetch data from Firebase Realtime Database
            fetch('https://kitchen-canvas-66c46-default-rtdb.firebaseio.com/meal_list.json')
            .then(response => response.json())
            .then(data => {
                
                
                Object.keys(data).forEach(key => {
    var meal = data[key];

    console.log(key)
    // Ensure meal object has required properties
    if (meal.imageFileName && meal.Title && meal.Description) {
        // Create card element
        var card = document.createElement('div');
        card.className = 'card';

        // Fetch image from Firebase Storage
        var storageRef = ref(storage, 'meals/' + meal.imageFileName);
        getDownloadURL(storageRef).then(function(url) {
            // Create image element
            var img = document.createElement('img');
            img.src = url;
            card.appendChild(img);
        }).catch(function(error) {
            console.error('Error fetching image:', error);
        });

        // Create title element
        var titleDiv = document.createElement('div');
        titleDiv.className = 'card-content';
        var title = document.createElement('h2');
        title.textContent = meal.Title;
        titleDiv.appendChild(title);
        card.appendChild(titleDiv);

        // Create description element
        var descriptionDiv = document.createElement('div');
        descriptionDiv.className = 'card-style';
        var description = document.createElement('p');
        description.textContent = meal.Description;
        descriptionDiv.appendChild(description);
        card.appendChild(descriptionDiv);

        // Create button element
        var button = document.createElement('button');
        button.className = 'round-button';
        button.textContent = 'click me'; // Change text as needed
        card.appendChild(button);

        // Add event listener to the button
        button.addEventListener('click', function() {
            // Redirect to details.html with the key as a query parameter
            window.location.href = 'details.html?id=' + key;
        });

        // Append card to container
        cardContainer.appendChild(card);
    } else {
        console.error('Required properties are missing for meal:', meal);
    }
});
            })
            .catch(error => console.error('Error fetching data:', error));
        }

        // Call function to fetch and display data on page load
        fetchAndDisplayData();
    </script>
</body>
</html>
